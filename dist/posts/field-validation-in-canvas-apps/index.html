<!DOCTYPE html><html lang="en" data-astro-cid-sckkx6r4> <head><meta charset="UTF-8"><meta name="description" content="In this post, I want to run through how to do field validation in Power Apps canvas apps/custom pages, and the different options that are available. The ultimate goal is to provide the best user experience when validating fields, and what to watch out for."><meta name="viewport" content="width=device-width"><link rel="icon" type="image/svg+xml" href="/favicon.svg"><meta name="generator" content="Astro v4.16.19"><title>Field validation in canvas apps/custom pages</title><link rel="stylesheet" href="/_astro/about.CK4xau0d.css"></head> <body class="bg-gray-50 text-gray-900 dark:bg-dark-900 dark:text-gray-100 font-sans antialiased flex flex-col min-h-screen relative overflow-x-hidden" data-astro-cid-sckkx6r4> <!-- Animated gradient background --> <div class="fixed inset-0 -z-10 bg-gradient-to-br from-gray-50 via-white to-gray-100 dark:from-dark-900 dark:via-dark-800 dark:to-dark-900" data-astro-cid-sckkx6r4></div> <div class="fixed inset-0 -z-10 opacity-10 dark:opacity-30" data-astro-cid-sckkx6r4> <div class="absolute top-0 -left-4 w-72 h-72 bg-primary-700 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob" data-astro-cid-sckkx6r4></div> <div class="absolute top-0 -right-4 w-72 h-72 bg-primary-500 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-2000" data-astro-cid-sckkx6r4></div> <div class="absolute -bottom-8 left-20 w-72 h-72 bg-primary-400 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-4000" data-astro-cid-sckkx6r4></div> </div> <header class="border-b border-gray-200 dark:border-gray-800/50 py-6 backdrop-blur-sm bg-white/80 dark:bg-dark-800/30 sticky top-0 z-50 animate-fade-in"> <div class="container mx-auto px-4 max-w-3xl flex justify-between items-center"> <a href="/" class="text-xl font-bold tracking-tight hover:text-primary-500 transition-all duration-300 transform hover:scale-105"> <span class="bg-gradient-to-r from-primary-700 via-primary-500 to-primary-300 bg-clip-text text-transparent">
Josh Giles
</span> </a> <div class="flex items-center gap-6"> <nav> <ul class="flex space-x-6 text-sm font-medium text-gray-700 dark:text-gray-300"> <li> <a href="/" class="hover:text-primary-400 transition-all duration-300 relative group">
Home
<span class="absolute -bottom-1 left-0 w-0 h-0.5 bg-gradient-accent group-hover:w-full transition-all duration-300"></span> </a> </li> <li> <a href="/about" class="hover:text-primary-400 transition-all duration-300 relative group">
About
<span class="absolute -bottom-1 left-0 w-0 h-0.5 bg-gradient-accent group-hover:w-full transition-all duration-300"></span> </a> </li> <li> <a href="/posts" class="hover:text-primary-400 transition-all duration-300 relative group">
Posts
<span class="absolute -bottom-1 left-0 w-0 h-0.5 bg-gradient-accent group-hover:w-full transition-all duration-300"></span> </a> </li> <li> <a href="/rss.xml" class="hover:text-primary-400 transition-all duration-300 relative group">
RSS
<span class="absolute -bottom-1 left-0 w-0 h-0.5 bg-gradient-accent group-hover:w-full transition-all duration-300"></span> </a> </li> </ul> </nav> <button id="theme-toggle" class="p-2 rounded-lg bg-gray-200 dark:bg-dark-700/50 hover:bg-gray-300 dark:hover:bg-dark-600/50 border border-gray-300 dark:border-gray-700/50 transition-all duration-300 hover:scale-110" aria-label="Toggle theme"> <svg id="theme-toggle-dark-icon" class="w-5 h-5 text-gray-700 dark:text-gray-300 hidden dark:block" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"> <path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"></path> </svg> <svg id="theme-toggle-light-icon" class="w-5 h-5 text-yellow-500 block dark:hidden" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"> <path d="M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z" fill-rule="evenodd" clip-rule="evenodd"></path> </svg> </button> <script>
  // Theme toggle functionality
  const theme = (() => {
    if (typeof localStorage !== 'undefined' && localStorage.getItem('theme')) {
      return localStorage.getItem('theme');
    }
    if (window.matchMedia('(prefers-color-scheme: light)').matches) {
      return 'light';
    }
    return 'dark';
  })();

  if (theme === 'dark') {
    document.documentElement.classList.add('dark');
  } else {
    document.documentElement.classList.remove('dark');
  }

  window.localStorage.setItem('theme', theme);

  const handleToggleClick = () => {
    const element = document.documentElement;
    element.classList.toggle('dark');

    const isDark = element.classList.contains('dark');
    localStorage.setItem('theme', isDark ? 'dark' : 'light');
  };

  document.getElementById('theme-toggle').addEventListener('click', handleToggleClick);
</script> </div> </div> </header> <main class="flex-grow container mx-auto px-4 py-8 max-w-3xl relative z-10" data-astro-cid-sckkx6r4>  <article class="animate-fade-in"> <!-- Header --> <header class="mb-12 bg-white dark:bg-dark-800/40 backdrop-blur-sm border border-gray-200 dark:border-gray-800/50 rounded-xl p-8"> <div class="flex items-center gap-3 text-sm text-gray-600 dark:text-gray-400 mb-4"> <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path> </svg> <time datetime="2024-01-15T00:00:00.000Z"> January 15, 2024 </time> </div> <h1 class="text-3xl sm:text-4xl md:text-5xl font-bold mb-6 leading-tight"> <span class="bg-gradient-to-r from-primary-700 via-primary-500 to-primary-300 bg-clip-text text-transparent"> Field validation in canvas apps/custom pages </span> </h1> <div class="flex flex-wrap gap-2"> <span class="text-xs bg-primary-100 dark:bg-primary-700/10 text-primary-800 dark:text-primary-400 px-3 py-1.5 rounded-full border border-primary-200 dark:border-primary-700/20">
#Power Platform </span><span class="text-xs bg-primary-100 dark:bg-primary-700/10 text-primary-800 dark:text-primary-400 px-3 py-1.5 rounded-full border border-primary-200 dark:border-primary-700/20">
#Canvas Apps </span><span class="text-xs bg-primary-100 dark:bg-primary-700/10 text-primary-800 dark:text-primary-400 px-3 py-1.5 rounded-full border border-primary-200 dark:border-primary-700/20">
#Custom Pages </span><span class="text-xs bg-primary-100 dark:bg-primary-700/10 text-primary-800 dark:text-primary-400 px-3 py-1.5 rounded-full border border-primary-200 dark:border-primary-700/20">
#Validation </span> </div> </header> <!-- Content --> <div class="prose prose-lg max-w-none bg-white dark:bg-dark-800/20 backdrop-blur-sm border border-gray-200 dark:border-gray-800/30 rounded-xl p-8 md:p-12 dark:prose-invert"> <p>In this post, I want to run through how to do field validation in Power Apps canvas apps/custom pages, and the different options that are available. The ultimate goal is to provide the best user experience when validating fields, and what to watch out for.</p>
<h2 id="the-scenario">The Scenario</h2>
<p>A contact us form has been developed in Canvas Apps for a large organisation. This form has mandatory fields that need to be filled in, as well as some fields that require a specific input type. The form needs to be updated to include these validation checks.</p>
<p>The form was developed using the frontend mentoring challenge contact us form as inspiration. Curious how I built this? Let me know!</p>
<h2 id="validation">Validation</h2>
<p>Lets look at some basic forms of validation against different field types.</p>
<h3 id="text-inputs">Text inputs</h3>
<p>Validating an input field that is required in it’s most basic form is relatively straightforward. You will want to check if the field is empty and if it isn’t show the error message.</p>
<p>There are various valid ways to do this, however I tend to use the <code>Len()</code> function in the visible property of the error label to check if the field length is equal to 0. If it is, then show the error.</p>
<p>To achieve this we can use the following formulas on the relevant fields.</p>
<p>Error label visible set to:</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>Len(txtfirstName.Value) = 0</span></span>
<span class="line"><span></span></span></code></pre>
<h3 id="email">Email</h3>
<p>The email field is slightly different. We need to validate it if it’s empty, but also validate it if it isn’t empty and it isn’t a valid email address.</p>
<p>The following formula can be used on the label’s visible property here:</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>Len(txtEmail.Value) = 0 Or Not IsMatch(TxtEmail.Value, Match.Email)</span></span>
<span class="line"><span></span></span></code></pre>
<p>The text displayed in the error message should change dynamically based on whether it’s empty or if it’s not empty, that it’s a valid email address. To do this, on the error label’s text property, set it to the following:</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>If(IsBlank(txtEmail.Value), "This field is required", Not IsMatch(txtEmail.Value, Match.Email), "Please enter a valid email address")</span></span>
<span class="line"><span></span></span></code></pre>
<h3 id="checkboxes">Checkboxes</h3>
<p>For the above checkboxes, the error message will show when none of the boxes are ticked. This means the error label will need to check against both checkboxes:</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>Not chkGeneralEnquiry.Checked And Not chkSupportRequest.Checked</span></span>
<span class="line"><span></span></span></code></pre>
<p>Note with the above, the “Not” clause is used as we can only check if the checkboxes are ticked(checked) rather than unchecked. There is also no need for an <code>If()</code> statement as the formula will evaluate to either true or false anyway.</p>
<p>Repeat the above steps for the other fields, and you will have a form that will fully validate depending on field inputs.</p>
<p>Awesome!</p>
<p>If you want to do alternative field validation for text, you can use the <code>Match()</code> function to validate different types of things. Check out the documentation on it here: <a href="https://learn.microsoft.com/en-us/power-platform/power-fx/reference/function-ismatch">https://learn.microsoft.com/en-us/power-platform/power-fx/reference/function-ismatch</a></p>
<h2 id="enhancing-the-user-experience">Enhancing the user experience</h2>
<p>Now we have the field validation working, the next steps are to consider how to make the user experience better. Ideally the error messages wouldn’t show by default (for example if the user navigates to the form) rather, they should show on submit if there’s an error, lets update the form to match this better experience.</p>
<p>The logic will remain the same, however it will need to be moved to the Submit button’s OnSelect property. The logic would then update a variable, and the variable will control the error message visibility. Lets give it a go!</p>
<h3 id="first-and-last-name-validation">First and Last name validation</h3>
<p>In the Submit button OnSelect, add the following code:</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>If( Len(txtFirstName.Value) = 0, UpdateContext({locShowFirstNameError: true}), UpdateContext({locShowFirstNameError: false}) ); If( Len(txtLastName.Value) = 0, UpdateContext({locShowLastNameError: true}), UpdateContext({locShowLastNameError: false}) );</span></span>
<span class="line"><span></span></span></code></pre>
<p>In the visible property of the first and last name error labels, change it to <code>locShowFirstNameError</code> and <code>locShowLastNameError</code> respectively.</p>
<h3 id="email-validation">Email Validation</h3>
<p>If we add the following to the button’s OnSelect, we get the email address validation checking if the field is blank and if it’s not blank, validating whether it’s a valid email address.</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>If( Len(txtEmail.Value) = 0 Or Not IsMatch(txtEmail.Value, Match.Email), UpdateContext({locShowEmailAddressError: true}), UpdateContext({locShowEmailAddressError: false}) );</span></span>
<span class="line"><span></span></span></code></pre>
<p>Set the error label’s visible property to be <code>locShowEmailAddressError</code>.</p>
<h3 id="checkbox-validation">Checkbox validation</h3>
<p>To validate the query type checkboxes, add the following to the buttons OnSelect:</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>If( Not chkGeneralEnquiry.Checked And Not chkSupportRequest.Checked, UpdateContext({locShowQueryTypeError: true}), UpdateContext({locShowQueryTypeError: false}) );</span></span>
<span class="line"><span></span></span></code></pre>
<p>Then update the Query type error label visible property to <code>locShowQueryTypeError</code></p>
<h2 id="bringing-it-together">Bringing it together</h2>
<p>The full code on the Submit button’s OnSelect will now look like this (including validation for the “Message” field and the “I consent to being contacted by the team” fields).</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>//First name validation </span></span>
<span class="line"><span>If( Len(txtFirstName.Value) = 0, UpdateContext({locShowFirstNameError: true}), UpdateContext({locShowFirstNameError: false}) ); </span></span>
<span class="line"><span>//Last name validation </span></span>
<span class="line"><span>If( Len(txtLastName.Value) = 0, UpdateContext({locShowLastNameError: true}), UpdateContext({locShowLastNameError: false}) ); </span></span>
<span class="line"><span>//Email validation </span></span>
<span class="line"><span>If( Len(txtEmail.Value) = 0 Or Not IsMatch(txtEmail.Value, Match.Email), UpdateContext({locShowEmailAddressError: true}), UpdateContext({locShowEmailAddressError: false}) ); </span></span>
<span class="line"><span>//Query type validation </span></span>
<span class="line"><span>If( Not chkGeneralEnquiry.Checked And Not chkSupportRequest.Checked, UpdateContext({locShowQueryTypeError: true}), UpdateContext({locShowQueryTypeError: false}) ); </span></span>
<span class="line"><span>//Message validation </span></span>
<span class="line"><span>If( Len(txtMessage.Value) = 0, UpdateContext({locShowMessageError: true}), UpdateContext({locShowMessageError: false}) ); </span></span>
<span class="line"><span>//Consent validation </span></span>
<span class="line"><span>If( Not chkConsent.Checked, UpdateContext({locShowConsentError: true}), UpdateContext({locShowConsentError: false}) );</span></span>
<span class="line"><span></span></span></code></pre>
<p>Each error label will need to have the correct variable added to the visible property for this to work.</p>
<p>Now, lets see this in action!</p>
<p>Hopefully this has been a helpful introduction into how to validate fields in PowerApps Canvas apps and Custom pages.</p> </div> <!-- Back to Posts Link --> <div class="mt-12 text-center"> <a href="/posts" class="inline-flex items-center gap-2 text-gray-700 dark:text-gray-400 hover:text-primary-700 dark:hover:text-primary-400 transition-all duration-300 group"> <svg class="w-5 h-5 transition-transform group-hover:-translate-x-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"></path> </svg>
Back to all posts
</a> </div> </article>  </main> <footer class="border-t border-gray-200 dark:border-gray-800/50 py-8 mt-8 bg-gradient-to-r from-gray-100 via-white to-gray-100 dark:from-dark-800/50 dark:via-dark-700/30 dark:to-dark-800/50"> <div class="container mx-auto px-4 max-w-3xl"> <div class="flex flex-col md:flex-row justify-between items-center gap-4"> <p class="text-sm text-gray-700 dark:text-gray-400">
&copy; 2025 <span class="text-primary-700 dark:text-primary-400 font-semibold">Josh Giles</span>. All rights reserved.
</p> <div class="flex gap-6"> <a href="https://www.linkedin.com/in/josh-giles-41248885/" target="_blank" rel="noopener noreferrer" class="text-sm text-gray-700 dark:text-gray-400 hover:text-primary-700 dark:hover:text-primary-400 transition-all duration-300 transform hover:scale-110 hover:-translate-y-1"> <span class="flex items-center gap-2"> <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true"> <path d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"></path> </svg> <span class="font-medium">LinkedIn</span> </span> </a> <a href="https://github.com/armanaxf" target="_blank" rel="noopener noreferrer" class="text-sm text-gray-700 dark:text-gray-400 hover:text-primary-700 dark:hover:text-primary-400 transition-all duration-300 transform hover:scale-110 hover:-translate-y-1"> <span class="flex items-center gap-2"> <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true"> <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path> </svg> <span class="font-medium">GitHub</span> </span> </a> </div> </div> </div> </footer>  </body> </html>